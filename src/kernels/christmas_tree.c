/* 80x25 mode */
const char * tree[] = {
    "44444444444444444444444444444444444444444444444444444444444444444444444444444444",
    "44444444444444444444444444444454444444444444444444444444444445444444444444444444",
    "44444444444444454444444444444444444444454444444444444544444444444444444444445444",
    "44444444444444444444444444444444444444444444444444444444444445444444444444444444",
    "44444444444444444444454444444444444444444444454444444444444444444444444444445444",
    "44444444444445444444444444444444444444444444444444444444444444444444444444444444",
    "44444444444444444444444444444444444444441444444444444444444444444444444444444444",
    "44444444444444444444444444444444444444411144444444444444444444444444444444444444",
    "44444444444444444444444444444444444444111114444444444444444444444444444444444444",
    "44444444444444444444444444444444444441111111444444444444444444444444444444444444",
    "44444444444444444444444444444444444411111111144444444444444444444444444444444444",
    "44444444444444444444444444444444444111111111114444444444444444444444444444444444",
    "44444444444444444444444444444444441111111111111444444444444444444444444444444444",
    "44444444444444444444444444444444411111111111111144444444444444444444444444444444",
    "44444444444444444444444444444444111111111111111114444444444444444444444444444444",
    "44444444444444444444444444444444444444422244444444444444444444444444444444444444",
    "44444444444444444444444444444444444444422244444444444444444444444444444444444444",
    "33333333333333333333333333333333333663322233333333333333333333333333333333333333",
    "33333333333333333333333333333333366333322233333333333333333333333333333333333333",
    "33333333333333333333333333333333333663333333333333333333333333333333333333333333",
    "33333333333333333333333333333333366333333333333333333333333333333333333333333333",
    "33333333333333333333333333333333336633333333333333333333333333333333333333333333",
    "33333333333333333333333333333333663333333333333333333333333333333333333333333333",
    "33333333333333333333333333333333366333333333333333333333333333333333333333333333",
    "33333333333333333333333333333366333333333333333333333333333333333333333333333333"
};

void sleep() {
  int i=0;
  while (i < 70000000) i ++;
}

void change_background(char* c) {
  if (++(*c) > 0x10+15) *c = 0x10 + 9;
}

void print_tree(char* background) {
  char* video_memory = 0xB8000;
  int i = 0;
  int j = 0;
  while (i < 25) {
    j = 0;
    while (j < 80) {
      if (tree[i][j] != '0') {
        *(video_memory++) = '*';
        if (tree[i][j] == '1') {
          *(video_memory++) = *background;
          change_background(background);
        } else if (tree[i][j] == '2') {
          *(video_memory++) = 0x66;
        } else if (tree[i][j] == '3') {
          *(video_memory++) = 0xFF;
        } else if (tree[i][j] == '4') {
          *(video_memory++) = 0x11;
        } else if (tree[i][j] == '5') {
          *(video_memory++) = 0x1C;
        } else if (tree[i][j] == '6') {
          *(video_memory++) = 0x00;
        }
      } else {
        *(video_memory++) = ' ';
        *(video_memory++) = 0;
      }
      j ++;
    }
    i ++;
  }
}

void main() {
  char background = 0x0C;
  while (1) {
    print_tree(&background);
    sleep();
  }
}
